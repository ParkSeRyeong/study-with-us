# Porting Manual

ğŸš€ ë°°í¬ í”Œë¡œìš°

![stack](stack.PNG)

#### ê¸°ìˆ  ìŠ¤íƒ

<details>
    <summary>Back-end</summary>
    <ul>
          <li>Spring-Boot : 2.5.4</li>
          <li>Spring Security</li>
          <li>spring-boot-starter-jdbc</li>
          <li>spring-boot-starter-jpa</li>
          <li>spring-boot-starter-redis</li>
          <li>spring-boot-starter-security</li>
          <li>spring-boot-starter-data-jdbc</li>
          <li>jjwt : 3.18</li>
          <li>lombok</li>
          <li>mysql</li>
          <li>junit : 4.12</li>
          <li>swagger : 2.9.2</li>
      </ul>
</details>

<details>
        <summary>Front-end</summary>
    <ul>
          <li>Js</li>
          <li>HTML</li>
          <li>CSS</li>
          <li>Vue.js</li>
      </ul>
    -------------------------------------------
    <h5>
          ë¼ì´ë¸ŒëŸ¬ë¦¬
    </h5>
    <ul>
      <li>Apexchart</li>
      <li>Datepicker</li>
      <li>teachablemachin/image</li>
      <li>tensorflow/tfjs</li>
      <li>jwt-decode</li>
      <li>vuex-persistedstate</li>
  </ul>

<details>
        <summary>Infra</summary>
    <ul>
          <li>nginx</li>
          <li>docker</li>
          <li>jenkins</li>
          <li>gitlab</li>
          <li>mattermost</li>
      </ul>


#### âš™ ì‹œìŠ¤í…œ êµ¬ì„±

- `Jenkins 3.7 - blueocean` : CI/CD tool
- `Docker` : Backend/Frontend(`nginx`) ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- `nginx` : dockerì—ì„œ Frontendë¥¼ ì‹¤í–‰í•˜ë©°, Backendë¥¼ redirecting í•©ë‹ˆë‹¤.

#### ğŸ’» ê°œë°œ í™˜ê²½

- Java `1.8`
- MySQL `5.7`
- IntelliJ IDEA ULTIMATE `2020.3



#### ğŸ•¹ Install & Usage

##### Docker network ì„¤ì •

```bash
$ sudo docker network create studywithuscicdnetwork
```

#####  SSL Key ë°œê¸‰

```
$ sudo apt-get install letsencrypt
$ sudo letsencrypt certonly --standalone -d <wwwì œì™¸í•œ ë„ë©”ì¸ ì´ë¦„>

ssl_certificate /etc/letsencrypt/live/ë„ë©”ì¸ì´ë¦„/fullchain.pem; 
ssl_certificate_key /etc/letsencrypt/live/ë„ë©”ì¸ì´ë¦„/privkey.pem; 
```

##### Frontend Docker image ìƒì„± ë° ì‹¤í–‰

```bash
$ docker build -t frontend:latest ./frontend/
$ docker run -d --name frontend -p 80:80 -p 443:443 \
  -v /etc/letsencrypt:/cert -v /etc/localtime:/etc/localtime:ro \
  --network studywithuscicdnetwork frontend:latest


```

##### Backend Docker imge ìƒì„± ë° ì‹¤í–‰

```bash
$ docker build -t backend:latest ./backend
$ docker run -d --name backend -p 8080:8080 \
  --network studywithuscicdnetwork backend:latest
```

##### ìœ„ì˜ ì„¤ì¹˜ ë° ì‹¤í–‰ ê³¼ì •ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„¤ì •íŒŒì¼ë“¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- `../frontend/Dockerfile`
- `../frontend/homepage.conf`
- `../backend/Dockerfile`
